## API Report File for "git-documentdb"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import nodegit from '@sosuisen/nodegit';

// Warning: (ae-internal-missing-underscore) The name "AbstractDocumentDB" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export abstract class AbstractDocumentDB {
    // (undocumented)
    abstract allDocs(options?: AllDocsOptions): Promise<AllDocsResult>;
    // (undocumented)
    abstract delete(idOrDoc: string | JsonDoc, options?: RemoveOptions): Promise<RemoveResult>;
    // (undocumented)
    abstract get(docId: string, options?: GetOptions): Promise<JsonDoc>;
    // (undocumented)
    abstract put(document: JsonDoc, options?: PutOptions): Promise<PutResult>;
    // (undocumented)
    abstract remove(idOrDoc: string | JsonDoc, options?: RemoveOptions): Promise<RemoveResult>;
    // (undocumented)
    abstract workingDir(): string;
}

// @public
export type AllDocsOptions = {
    include_docs?: boolean;
    descending?: boolean;
    sub_directory?: string;
    recursive?: boolean;
    collection_path?: CollectionPath;
};

// @public
export type AllDocsResult = {
    total_rows: number;
    commit_sha?: string;
    rows?: JsonDocWithMetadata[];
};

// Warning: (ae-forgotten-export) The symbol "BaseError" needs to be exported by the entry point main.d.ts
//
// @public (undocumented)
export class CannotCreateDirectoryError extends BaseError {
    constructor(e?: string);
}

// @public (undocumented)
export class CannotDeleteDataError extends BaseError {
    constructor(e?: string);
}

// @public (undocumented)
export class CannotWriteDataError extends BaseError {
    constructor(e?: string);
}

// @public
export class Collection {
    // Warning: (ae-incompatible-release-tags) The symbol "__constructor" is marked as @public, but its signature references "AbstractDocumentDB" which is marked as @internal
    constructor(_gitDDB: AbstractDocumentDB, _collectionPath: CollectionPath);
    allDocs(options?: AllDocsOptions): Promise<AllDocsResult>;
    // (undocumented)
    collectionPath(): string;
    delete(idOrDoc: string | JsonDoc, options?: RemoveOptions): Promise<RemoveResult>;
    get(docId: string, options?: GetOptions): Promise<JsonDoc>;
    put(document: JsonDoc, options?: PutOptions): Promise<PutResult>;
    remove(idOrDoc: string | JsonDoc, options?: RemoveOptions): Promise<RemoveResult>;
}

// @public
export type CollectionPath = string;

// @public
export type DatabaseCloseOption = {
    force?: boolean;
    timeout?: number;
};

// @public (undocumented)
export class DatabaseCloseTimeoutError extends BaseError {
    constructor(e?: string);
}

// @public (undocumented)
export class DatabaseClosingError extends BaseError {
    constructor(e?: string);
}

// @beta
export type DatabaseInfo = {
    is_new: boolean;
    is_created_by_gitddb: boolean;
    is_valid_version: boolean;
};

// @beta
export type DatabaseOption = {
    local_dir?: string;
    db_name: string;
};

// @public (undocumented)
export class DocumentNotFoundError extends BaseError {
    constructor(e?: string);
}

// @public
export type GetOptions = {
    collection_path?: CollectionPath;
};

// Warning: (ae-incompatible-release-tags) The symbol "GitDocumentDB" is marked as @beta, but its signature references "AbstractDocumentDB" which is marked as @internal
//
// @beta
export class GitDocumentDB extends AbstractDocumentDB {
    constructor(options: DatabaseOption);
    allDocs(options?: AllDocsOptions): Promise<AllDocsResult>;
    close(options?: DatabaseCloseOption): Promise<void>;
    collection(collectionPath: CollectionPath): Collection;
    delete(id: string, options?: RemoveOptions): Promise<RemoveResult>;
    delete(jsonDoc: JsonDoc, options?: RemoveOptions): Promise<RemoveResult>;
    destroy(options?: DatabaseCloseOption): Promise<{
        ok: true;
    }>;
    get(docId: string, options?: GetOptions): Promise<JsonDoc>;
    getRepository(): nodegit.Repository | undefined;
    isClosing: boolean;
    isOpened(): boolean;
    open(): Promise<DatabaseInfo>;
    put(jsonDoc: JsonDoc, options?: PutOptions): Promise<PutResult>;
    put(_id: string, document: {
        [key: string]: any;
    }, options?: PutOptions): Promise<PutResult>;
    // @internal (undocumented)
    _put_concurrent(_id: string, collectionPath: string, data: string, commitMessage: string): Promise<PutResult>;
    remove(id: string, options?: RemoveOptions): Promise<RemoveResult>;
    remove(jsonDoc: JsonDoc, options?: RemoveOptions): Promise<RemoveResult>;
    // @internal (undocumented)
    _remove_concurrent(_id: string, collectionPath: string, commitMessage: string): Promise<RemoveResult>;
    workingDir(): string;
    }

// @public (undocumented)
export class InvalidCollectionPathCharacterError extends BaseError {
    constructor(name: string);
}

// @public (undocumented)
export class InvalidCollectionPathLengthError extends BaseError {
    constructor(collectionPath: string, minLength: number, maxLength: number);
}

// @public (undocumented)
export class InvalidDbNameCharacterError extends BaseError {
    constructor(name: string);
}

// @public (undocumented)
export class InvalidIdCharacterError extends BaseError {
    constructor(id: string);
}

// @public (undocumented)
export class InvalidIdLengthError extends BaseError {
    constructor(id: string, minLength: number, maxLength: number);
}

// @public (undocumented)
export class InvalidJsonObjectError extends BaseError {
    constructor(e?: string);
}

// @public (undocumented)
export class InvalidLocalDirCharacterError extends BaseError {
    constructor(name: string);
}

// @public (undocumented)
export class InvalidPropertyNameInDocumentError extends BaseError {
    constructor(name: string);
}

// @public (undocumented)
export class InvalidWorkingDirectoryPathLengthError extends BaseError {
    constructor(path: string, minLength: number, maxLength: number);
}

// @public
export type JsonDoc = {
    [key: string]: any;
};

// @public
export type JsonDocWithMetadata = {
    id: string;
    file_sha: string;
    doc?: JsonDoc;
};

// @public
export type PutOptions = {
    commit_message?: string;
    collection_path?: CollectionPath;
};

// @public
export type PutResult = {
    ok: true;
    id: string;
    file_sha: string;
    commit_sha: string;
};

// @public
export type RemoveOptions = {
    commit_message?: string;
    collection_path?: CollectionPath;
};

// @public
export type RemoveResult = {
    ok: true;
    id: string;
    file_sha: string;
    commit_sha: string;
};

// @public (undocumented)
export class RepositoryNotOpenError extends BaseError {
    constructor(e?: string);
}

// @public (undocumented)
export class UndefinedDatabaseNameError extends BaseError {
    constructor(e?: string);
}

// @public (undocumented)
export class UndefinedDocumentIdError extends BaseError {
    constructor(e?: string);
}

// Warning: (ae-internal-missing-underscore) The name "Validator" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class Validator {
    constructor(_workingDir: string);
    // (undocumented)
    static byteLengthOf: (str: string) => number;
    maxCollectionPathLength(): number;
    maxIdLength(): number;
    static maxWorkingDirectoryLength(): number;
    static normalizeCollectionPath(collectionPath: CollectionPath | undefined): CollectionPath;
    testWindowsInvalidFileNameCharacter(name: string, options?: {
        allow_slash?: boolean;
        allow_drive_letter?: boolean;
        allow_directory_dot?: boolean;
    }): boolean;
    testWindowsReservedFileName(name: string, options?: {
        allow_directory_dot?: boolean;
    }): boolean;
    validateCollectionPath(collectionPath: string): void;
    validateDbName(dbName: string): void;
    validateDocument(doc: JsonDoc): void;
    validateId(_id: string): void;
    validateLocalDir(localDir: string): void;
    }


```
